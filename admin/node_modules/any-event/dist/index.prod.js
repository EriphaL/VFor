"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),default_1=function(){function t(){this.listenersMap={}}return t.prototype.target=function(t){var e=this;return{on:function(r,i){e.on(r,i,{target:t})}}},t.prototype.on=function(t,e,r){var i=(void 0===r?{}:r).target;void 0===this.listenersMap[t]&&(this.listenersMap[t]=[]),void 0!==i&&(e.target=i),this.listenersMap[t].push(e)},t.prototype.off=function(t,e){var r=this.listenersMap[t];if(void 0!==r)if(void 0===e)delete this.listenersMap[t];else{var i=r.findIndex((function(t){return t===e}));r.splice(i,1)}},t.prototype.emit=function(t,e,r){var i,n;void 0===r&&(r=function(){return!0});var o=this.listenersMap[t];if(void 0!==o&&0<o.length)try{for(var s=tslib.__values(o),a=s.next();!a.done;a=s.next()){var l=a.value;r({target:l.target})&&l(e)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}},t.prototype.destroy=function(){this.listenersMap={}},t}();exports.default=default_1;
