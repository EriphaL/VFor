{"remainingRequest":"/Users/eripha/Desktop/project/routine/admin/node_modules/babel-loader/lib/index.js!/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eripha/Desktop/project/routine/admin/src/views/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eripha/Desktop/project/routine/admin/src/views/Main.vue","mtime":1593356074674},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNpZGViYXIgZnJvbSAiLi4vY29tcG9uZW50cy9TaWRlYmFyIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNpZGViYXI6IFNpZGViYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgICAgdmFyIHJlcywgY3VyLCBzZXRQYXJlbnQsIGZvcm1hdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBmZXRjaCQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9ybWF0ID0gZnVuY3Rpb24gX3JlZjIoanNvbkRhdGEpIHsKICAgICAgICAgICAgICAgIHNldFBhcmVudChqc29uRGF0YSk7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sCiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHt9LAogICAgICAgICAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICAgICAgICAgIGogPSAwLAogICAgICAgICAgICAgICAgICAgIGxlbiA9IGpzb25EYXRhLmxlbmd0aDsKCiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHRlbXBbanNvbkRhdGFbaV1bIl9pZCJdXSA9IGpzb25EYXRhW2ldOyAvLyDku6VpZOS9nOS4uue0ouW8leWtmOWCqOWFg+e0oO+8jOWPr+S7peaXoOmcgOmBjeWOhuebtOaOpeWumuS9jeWFg+e0oAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvciAoOyBqIDwgbGVuOyBqKyspIHsKICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0ganNvbkRhdGFbal07CiAgICAgICAgICAgICAgICAgIHZhciB0ZW1wQ3VycmVudEVsZW1lbnRQYXJlbnQgPSB0ZW1wW2N1cnJlbnRFbGVtZW50WyJwYXJlbnQiXV07IC8vIOS4tOaXtuWPmOmHj+mHjOmdoueahOW9k+WJjeWFg+e0oOeahOeItuWFg+e0oCBwYXJlbnRJZCDniLbnuqdJRAoKICAgICAgICAgICAgICAgICAgaWYgKHRlbXBDdXJyZW50RWxlbWVudFBhcmVudCkgewogICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOWtmOWcqOeItuWFg+e0oAogICAgICAgICAgICAgICAgICAgIGlmICghdGVtcEN1cnJlbnRFbGVtZW50UGFyZW50WyJjaGlsZHJlbiJdKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzniLblhYPntKDmsqHmnIljaGluZHJlbumUrgogICAgICAgICAgICAgICAgICAgICAgdGVtcEN1cnJlbnRFbGVtZW50UGFyZW50WyJjaGlsZHJlbiJdID0gW107IC8vIOiuvuS4iueItuWFg+e0oOeahGNoaWxkcmVu6ZSuCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0ZW1wQ3VycmVudEVsZW1lbnRQYXJlbnRbImNoaWxkcmVuIl0ucHVzaChjdXJyZW50RWxlbWVudCk7IC8vIOe7meeItuWFg+e0oOWKoOS4iuW9k+WJjeWFg+e0oOS9nOS4uuWtkOWFg+e0oAogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOS4jeWtmOWcqOeItuWFg+e0oO+8jOaEj+WRs+edgOW9k+WJjeWFg+e0oOaYr+S4gOe6p+WFg+e0oAogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgc2V0UGFyZW50ID0gZnVuY3Rpb24gX3JlZihkYXRhKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV1bJ3BhcmVudCddKSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVtpXVsncGFyZW50J10gPSBkYXRhW2ldWydwYXJlbnQnXVsnX2lkJ107CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuJGh0dHAuZ2V0KCIvcmVzdC9jYXRlZ29yaWVzIikpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY3VyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsgLy8gY29uc29sZS5sb2coZm9ybWF0KHNldFBhcmVudChjdXIpKSk7CgogICAgICAgICAgICAgIHRoaXMubGlzdCA9IGZvcm1hdChjdXIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdCk7IC8vIHRoaXMubGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,OAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,KADA;AAAA,oBAKA,SALA,EAaA,MAbA;AAAA;AAAA;AAAA;AAAA;AAaA,cAAA,MAbA,kBAaA,QAbA,EAaA;AACA,gBAAA,SAAA,CAAA,QAAA,CAAA;AACA,oBAAA,MAAA,GAAA,EAAA;AAAA,oBACA,IAAA,GAAA,EADA;AAAA,oBAEA,CAAA,GAAA,CAFA;AAAA,oBAGA,CAAA,GAAA,CAHA;AAAA,oBAIA,GAAA,GAAA,QAAA,CAAA,MAJA;;AAKA,uBAAA,CAAA,GAAA,GAAA,EAAA,CAAA,EAAA,EAAA;AACA,kBAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,GAAA,QAAA,CAAA,CAAA,CAAA,CADA,CACA;AACA;;AACA,uBAAA,CAAA,GAAA,GAAA,EAAA,CAAA,EAAA,EAAA;AACA,sBAAA,cAAA,GAAA,QAAA,CAAA,CAAA,CAAA;AACA,sBAAA,wBAAA,GAAA,IAAA,CAAA,cAAA,CAAA,QAAA,CAAA,CAAA,CAFA,CAEA;;AACA,sBAAA,wBAAA,EAAA;AACA;AACA,wBAAA,CAAA,wBAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,sBAAA,wBAAA,CAAA,UAAA,CAAA,GAAA,EAAA,CAFA,CAEA;AACA;;AACA,oBAAA,wBAAA,CAAA,UAAA,CAAA,CAAA,IAAA,CAAA,cAAA,EANA,CAMA;AACA,mBAPA,MAOA;AACA;AACA,oBAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA;;AACA,uBAAA,MAAA;AACA,eAvCA;;AAKA,cAAA,SALA,iBAKA,IALA,EAKA;AACA,qBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,sBAAA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,EAAA;AACA,oBAAA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA,EAAA,KAAA,CAAA;AACA;AACA;;AACA,uBAAA,IAAA;AACA,eAZA;;AAAA;AAAA,8CAEA,KAAA,KAAA,CAAA,GAAA,CAAA,kBAAA,CAFA;;AAAA;AAEA,cAAA,GAFA;AAGA,cAAA,GAHA,GAGA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAHA;AAwCA,cAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,EAxCA,CA0CA;;AACA,mBAAA,IAAA,GAAA,MAAA,CAAA,GAAA,CAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,EA5CA,CA8CA;;AA9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,KAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\n  <el-container>\n    <el-header class=\"mHead\">\n      <div class=\"mLogo\">\n        <img src=\"../assets/logo.png\" alt />\n      </div>\n      <div style=\"flex:auto\"></div>\n      <el-dropdown>\n        <i class=\"el-icon-setting\" style=\"margin-right: 15px;font-size:1.5rem\"></i>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item>查看</el-dropdown-item>\n          <el-dropdown-item>新增</el-dropdown-item>\n          <el-dropdown-item>删除</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n      <i class=\"el-icon-user\" style=\"font-size:2rem\"></i>\n    </el-header>\n    <el-container>\n      <!-- 导航改成vw 查询viewport 移动端隐藏 :default-openeds=\"['1']\" -->\n      <el-aside width=\"200px\">\n        <el-menu router unique-opened :default-active=\"$route.path\">\n          <el-submenu index=\"1\">\n            <template slot=\"title\">\n              <i class=\"el-icon-edit\"></i>内容管理\n            </template>\n            <el-menu-item-group>\n              <template slot=\"title\">管理</template>\n              <el-menu-item index=\"/categories/create\">新建分类</el-menu-item>\n              <el-menu-item index=\"/categories/list\">内容列表</el-menu-item>\n            </el-menu-item-group>\n          </el-submenu>\n        </el-menu>\n        <Sidebar :menuList=\"list\"></Sidebar>\n      </el-aside>\n      <el-container>\n        <el-main>\n          <my-bread-crumb class=\"mBreadCrumb\" :breadName=\"$route.path\"></my-bread-crumb>\n          <router-view :key=\"$route.path\"></router-view>\n        </el-main>\n        <!-- <el-footer>Footer</el-footer> -->\n      </el-container>\n    </el-container>\n  </el-container>\n</template>\n\n\n<script>\nimport Sidebar from \"../components/Sidebar\";\nexport default {\n  components: { Sidebar },\n  data() {\n    return {\n      list: []\n    };\n  },\n  methods: {\n    async fetch() {\n      const res = await this.$http.get(\"/rest/categories\");\n      const cur = JSON.parse(JSON.stringify(res.data))\n\n      function setParent(data) {\n        for(let i =0;i<data.length;i++){\n          if(data[i]['parent']){\n            data[i]['parent'] = data[i]['parent']['_id']\n          }\n        }\n        return data\n      }\n      function format(jsonData) {\n        setParent(jsonData)\n        let result = [],\n          temp = {},\n          i = 0,\n          j = 0,\n          len = jsonData.length;\n        for (; i < len; i++) {\n          temp[jsonData[i][\"_id\"]] = jsonData[i]; // 以id作为索引存储元素，可以无需遍历直接定位元素\n        }\n        for (; j < len; j++) {\n          var currentElement = jsonData[j];\n          var tempCurrentElementParent = temp[currentElement[\"parent\"]]; // 临时变量里面的当前元素的父元素 parentId 父级ID\n          if (tempCurrentElementParent) {\n            // 如果存在父元素\n            if (!tempCurrentElementParent[\"children\"]) {\n              // 如果父元素没有chindren键\n              tempCurrentElementParent[\"children\"] = []; // 设上父元素的children键\n            }\n            tempCurrentElementParent[\"children\"].push(currentElement); // 给父元素加上当前元素作为子元素\n          } else {\n            // 不存在父元素，意味着当前元素是一级元素\n            result.push(currentElement);\n          }\n        }\n        return result;\n      }\n      console.log(res.data);\n\n      // console.log(format(setParent(cur)));\n      this.list = format(cur);\n      console.log(this.list);\n      \n      // this.list = res.data;\n    }\n  },\n  created() {\n    this.fetch();\n  }\n};\n</script>\n\n<style >\n.el-container {\n  height: 92vh;\n}\n.el-header,\n.el-footer {\n  background-color: #b3c0d1;\n  color: #333;\n  text-align: center;\n  /* line-height: 60px; */\n}\n\n.el-aside {\n  height: fit-content;\n  background-color: #d3dce6;\n  color: #333;\n  /* text-align: center; */\n  line-height: 200px;\n}\n\n.el-main {\n  background-color: #e9eef3;\n  color: #333;\n  /* text-align: center; */\n  line-height: normal;\n  /* text-align: center; */\n}\n\nbody > .el-container {\n  margin-bottom: 40px;\n}\n\n.el-container:nth-child(5) .el-aside,\n.el-container:nth-child(6) .el-aside {\n  line-height: 260px;\n}\n\n.el-container:nth-child(7) .el-aside {\n  line-height: 320px;\n}\n\n.mHead {\n  display: flex;\n  align-items: center;\n}\nimg {\n  height: 2.5rem;\n}\n\n.mNav {\n  display: flex;\n}\n.mBreadCrumb {\n  flex: auto;\n  padding-bottom: 20px;\n}\n</style>"],"sourceRoot":"src/views"}]}