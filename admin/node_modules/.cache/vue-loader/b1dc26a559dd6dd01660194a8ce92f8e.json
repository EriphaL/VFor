{"remainingRequest":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eripha/Desktop/project/routine/admin/src/views/Main.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/eripha/Desktop/project/routine/admin/src/views/Main.vue","mtime":1593322930438},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtY29udGFpbmVyIHsKICBoZWlnaHQ6IDkydmg7Cn0KLmVsLWhlYWRlciwKLmVsLWZvb3RlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2IzYzBkMTsKICBjb2xvcjogIzMzMzsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgLyogbGluZS1oZWlnaHQ6IDYwcHg7ICovCn0KCi5lbC1hc2lkZSB7CiAgaGVpZ2h0OiBmaXQtY29udGVudDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDNkY2U2OwogIGNvbG9yOiAjMzMzOwogIC8qIHRleHQtYWxpZ246IGNlbnRlcjsgKi8KICBsaW5lLWhlaWdodDogMjAwcHg7Cn0KCi5lbC1tYWluIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllZWYzOwogIGNvbG9yOiAjMzMzOwogIC8qIHRleHQtYWxpZ246IGNlbnRlcjsgKi8KICBsaW5lLWhlaWdodDogbm9ybWFsOwogIC8qIHRleHQtYWxpZ246IGNlbnRlcjsgKi8KfQoKYm9keSA+IC5lbC1jb250YWluZXIgewogIG1hcmdpbi1ib3R0b206IDQwcHg7Cn0KCi5lbC1jb250YWluZXI6bnRoLWNoaWxkKDUpIC5lbC1hc2lkZSwKLmVsLWNvbnRhaW5lcjpudGgtY2hpbGQoNikgLmVsLWFzaWRlIHsKICBsaW5lLWhlaWdodDogMjYwcHg7Cn0KCi5lbC1jb250YWluZXI6bnRoLWNoaWxkKDcpIC5lbC1hc2lkZSB7CiAgbGluZS1oZWlnaHQ6IDMyMHB4Owp9CgoubUhlYWQgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQppbWcgewogIGhlaWdodDogMi41cmVtOwp9CgoubU5hdiB7CiAgZGlzcGxheTogZmxleDsKfQoubUJyZWFkQ3J1bWIgewogIGZsZXg6IGF1dG87CiAgcGFkZGluZy1ib3R0b206IDIwcHg7Cn0K"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <el-container>\n    <el-header class=\"mHead\">\n      <div class=\"mLogo\">\n        <img src=\"../assets/logo.png\" alt />\n      </div>\n      <div style=\"flex:auto\"></div>\n      <el-dropdown>\n        <i class=\"el-icon-setting\" style=\"margin-right: 15px;font-size:1.5rem\"></i>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item>查看</el-dropdown-item>\n          <el-dropdown-item>新增</el-dropdown-item>\n          <el-dropdown-item>删除</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n      <i class=\"el-icon-user\" style=\"font-size:2rem\"></i>\n    </el-header>\n    <el-container>\n      <!-- 导航改成vw 查询viewport 移动端隐藏 :default-openeds=\"['1']\" -->\n      <el-aside width=\"200px\">\n        <el-menu router unique-opened :default-active=\"$route.path\">\n          <el-submenu index=\"1\">\n            <template slot=\"title\">\n              <i class=\"el-icon-edit\"></i>系统设置\n            </template>\n            <el-menu-item-group>\n              <template slot=\"title\">分类</template>\n              <el-menu-item index=\"/categories/create\">新建分类</el-menu-item>\n              <el-menu-item index=\"/categories/list\">分类列表</el-menu-item>\n            </el-menu-item-group>\n          </el-submenu>\n        </el-menu>\n\n        <!-- todolist -->\n        <el-menu router :default-openeds=\"['1']\" :default-active=\"$route.path\">\n          <el-submenu index=\"1\">\n            <template slot=\"title\">\n              <i class=\"el-icon-star-off\"></i>路线\n            </template>\n            <!-- <el-menu-item v-for=\"item in list\" :key=\"item._id\" :index=\"item.path\">\n              <template slot=\"title\" v-if=\"item.path=='/'\">{{item.name}}</template>\n              <el-menu-item v-else @click=\"sendToBread\">{{item.name}}</el-menu-item>\n            </el-menu-item>-->\n            <my-menu-item :label=\"list.name\" :nodes=\"list.children\" :path=\"list.path\"></my-menu-item>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-main>\n          <my-bread-crumb class=\"mBreadCrumb\" :breadName=\"$route.path\"></my-bread-crumb>\n          <router-view :key=\"$route.path\"></router-view>\n        </el-main>\n        <!-- <el-footer>Footer</el-footer> -->\n      </el-container>\n    </el-container>\n  </el-container>\n</template>\n\n\n\n\n\n<script>\nexport default {\n  data() {\n    return {\n      list: []\n    };\n  },\n  methods: {\n    async fetch() {\n      const res = await this.$http.get(\"/rest/categories\");\n      //todo\n      let mainMenu = [];\n      let subMenu = [];\n      let copyRes = [...res.data];\n      copyRes.map(element => {\n        !element.parent ? mainMenu.push(element) : subMenu.push(element);\n      });\n      for (let el of subMenu) {\n        // 1 在一级菜单遍历寻找id和subMenu中当前el.parent._id相等的\n        const findIndex = mainMenu.findIndex(\n          item => item[\"_id\"] === el.parent._id\n        );\n        // 2 能找到，给mainMenu当前下标增加children字段\n        mainMenu[findIndex][\"children\"] = [];\n        // 3 删除subMenu中当前el的parent字段\n        delete el.parent;\n        //   let cur = el\n        //   console.log(el);\n        // 4 把处理好的elpush到chidren中\n        let addSub = mainMenu[findIndex][\"children\"];\n        addSub.push(el);\n        // 问题 三级菜单？\n        // console.log(el);\n      }\n      this.list = mainMenu;\n      console.log(this.list);\n    },\n    // todolist\n    showSub() {},\n    sendToBread() {\n      const title = this.item.name;\n      console.log(title);\n    }\n  },\n  created() {\n    this.fetch();\n  }\n};\n</script>\n\n<style >\n.el-container {\n  height: 92vh;\n}\n.el-header,\n.el-footer {\n  background-color: #b3c0d1;\n  color: #333;\n  text-align: center;\n  /* line-height: 60px; */\n}\n\n.el-aside {\n  height: fit-content;\n  background-color: #d3dce6;\n  color: #333;\n  /* text-align: center; */\n  line-height: 200px;\n}\n\n.el-main {\n  background-color: #e9eef3;\n  color: #333;\n  /* text-align: center; */\n  line-height: normal;\n  /* text-align: center; */\n}\n\nbody > .el-container {\n  margin-bottom: 40px;\n}\n\n.el-container:nth-child(5) .el-aside,\n.el-container:nth-child(6) .el-aside {\n  line-height: 260px;\n}\n\n.el-container:nth-child(7) .el-aside {\n  line-height: 320px;\n}\n\n.mHead {\n  display: flex;\n  align-items: center;\n}\nimg {\n  height: 2.5rem;\n}\n\n.mNav {\n  display: flex;\n}\n.mBreadCrumb {\n  flex: auto;\n  padding-bottom: 20px;\n}\n</style>"]}]}