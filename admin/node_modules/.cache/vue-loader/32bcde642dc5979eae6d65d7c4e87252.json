{"remainingRequest":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eripha/Desktop/project/routine/admin/src/views/Citys.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eripha/Desktop/project/routine/admin/src/views/Citys.vue","mtime":1593703352817},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eripha/Desktop/project/routine/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qZXNsaW50LWRpc2FibGUgKi8KaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6ICgpID0+ICh7CiAgICByZXM6IHt9LAogICAgc3ZnV2lkdGg6IDAsCiAgICByZWRyYXdUb2dnbGU6IHRydWUsCgogICAgLy8gICB3aWR0aDoKICB9KSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBmZXRjaCgpIHsKICAgICAgdGhpcy5yZXMgPSByZXF1aXJlKCIuLi9hc3NldHMvZGF0YS9jaXR5Lmpzb24iKTsKICAgIH0sCiAgICAvLyDljbPlk43lupTlvI/nu5jliLYKICAgIEFkZFJlc2l6ZUxpc3RlbmVyKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gewogICAgICAgIHRoaXMuJGRhdGEucmVkcmF3VG9nZ2xlID0gZmFsc2U7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRkYXRhLnJlZHJhd1RvZ2dsZSA9IHRydWU7CiAgICAgICAgICB0aGlzLiRkYXRhLnN2Z1dpZHRoID0gdGhpcy4kcmVmcy5jb250YWluZXIub2Zmc2V0V2lkdGggKiAwLjg7CiAgICAgICAgICAvLyDph43mlrDnu5jliLYKICAgICAgICAgIHRoaXMuY2hhcnQoKTsKICAgICAgICB9LCAwKTsKICAgICAgfSk7CiAgICAgIC8vICAgY29uc29sZS5sb2coWy4uLm5ldyBTZXQodGhpcy5lZGdlcy5tYXAoZCA9PiBkLmRhdGEudGltZSkpXS5sZW5ndGgpOwogICAgfSwKICAgIGNoYXJ0KCkgewogICAgICAvLyDml6DmlYgKICAgICAgLy8gdGhpcy5zdmdXaWR0aCA9IHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZnNldFdpZHRoICowLjkKICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVzOwogICAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3ZnV2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnSGVpZ2h0OwogICAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjQsIHJpZ2h0OiAxMCwgYm90dG9tOiAzNCwgbGVmdDogNDAgfTsKICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCIjc3ZnIik7CiAgICAgIHN2Zy5hdHRyKCJ2aWV3Qm94IiwgWzAsIDAsIHRoaXMuc3ZnV2lkdGgsIHRoaXMuc3ZnSGVpZ2h0XSk7CiAgICAgIC8vIHN2Zy5hdHRyKCJ2aWV3Qm94IixbMCwwLDgwMCw1MDBdKQoKICAgICAgY29uc3QgeCA9IGQzCiAgICAgICAgLnNjYWxlTG9nKCkKICAgICAgICAuZG9tYWluKAogICAgICAgICAgcGFkTG9nKGQzLmV4dGVudChkYXRhLmZsYXRNYXAoZCA9PiBbZC5QT1BfMTk4MCwgZC5QT1BfMjAxNV0pKSwgMC4xKQogICAgICAgICkKICAgICAgICAucmFuZ2VSb3VuZChbbWFyZ2luLmxlZnQsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0XSk7CiAgICAgIGNvbnN0IHkgPSBkMwogICAgICAgIC5zY2FsZUxpbmVhcigpCiAgICAgICAgLmRvbWFpbigKICAgICAgICAgIHBhZExpbmVhcigKICAgICAgICAgICAgZDMuZXh0ZW50KGRhdGEuZmxhdE1hcChkID0+IFtkLlI5MF8xMF8xOTgwLCBkLlI5MF8xMF8yMDE1XSkpLAogICAgICAgICAgICAwLjEKICAgICAgICAgICkKICAgICAgICApCiAgICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCAtIG1hcmdpbi5ib3R0b20sIG1hcmdpbi50b3BdKTsKCiAgICAgIGZ1bmN0aW9uIHBhZExpbmVhcihbeDAsIHgxXSwgaykgewogICAgICAgIGNvbnN0IGR4ID0gKCh4MSAtIHgwKSAqIGspIC8gMjsKICAgICAgICByZXR1cm4gW3gwIC0gZHgsIHgxICsgZHhdOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBhZExvZyh4LCBrKSB7CiAgICAgICAgcmV0dXJuIHBhZExpbmVhcih4Lm1hcChNYXRoLmxvZyksIGspLm1hcChNYXRoLmV4cCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGVuZENvbG9yID0gZDMuc2NoZW1lQ2F0ZWdvcnkxMFszXTsKCiAgICAgIGNvbnN0IHN0YXJ0Q29sb3IgPSBkMy5zY2hlbWVDYXRlZ29yeTEwWzFdOwoKICAgICAgY29uc3QgZ3JpZCA9IGcgPT4KICAgICAgICBnCiAgICAgICAgICAuYXR0cigic3Ryb2tlIiwgImN1cnJlbnRDb2xvciIpCiAgICAgICAgICAuYXR0cigic3Ryb2tlLW9wYWNpdHkiLCAwLjEpCiAgICAgICAgICAuY2FsbChnID0+CiAgICAgICAgICAgIGcKICAgICAgICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAgICAgICAuc2VsZWN0QWxsKCJsaW5lIikKICAgICAgICAgICAgICAuZGF0YSh4LnRpY2tzKCkpCiAgICAgICAgICAgICAgLmpvaW4oImxpbmUiKQogICAgICAgICAgICAgIC5hdHRyKCJ4MSIsIGQgPT4gMC41ICsgeChkKSkKICAgICAgICAgICAgICAuYXR0cigieDIiLCBkID0+IDAuNSArIHgoZCkpCiAgICAgICAgICAgICAgLmF0dHIoInkxIiwgbWFyZ2luLnRvcCkKICAgICAgICAgICAgICAuYXR0cigieTIiLCBoZWlnaHQgLSBtYXJnaW4uYm90dG9tKQogICAgICAgICAgKQogICAgICAgICAgLmNhbGwoZyA9PgogICAgICAgICAgICBnCiAgICAgICAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgICAgICAgLnNlbGVjdEFsbCgibGluZSIpCiAgICAgICAgICAgICAgLmRhdGEoeS50aWNrcygpKQogICAgICAgICAgICAgIC5qb2luKCJsaW5lIikKICAgICAgICAgICAgICAuYXR0cigieTEiLCBkID0+IDAuNSArIHkoZCkpCiAgICAgICAgICAgICAgLmF0dHIoInkyIiwgZCA9PiAwLjUgKyB5KGQpKQogICAgICAgICAgICAgIC5hdHRyKCJ4MSIsIG1hcmdpbi5sZWZ0KQogICAgICAgICAgICAgIC5hdHRyKCJ4MiIsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0KQogICAgICAgICAgKTsKCiAgICAgIGNvbnN0IHhBeGlzID0gZyA9PgogICAgICAgIGcKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHQgLSBtYXJnaW4uYm90dG9tfSlgKQogICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS50aWNrcyh3aWR0aCAvIDgwLCAiLjFzIikpCiAgICAgICAgICAuY2FsbChnID0+IGcuc2VsZWN0KCIuZG9tYWluIikucmVtb3ZlKCkpCiAgICAgICAgICAuY2FsbChnID0+CiAgICAgICAgICAgIGcKICAgICAgICAgICAgICAuYXBwZW5kKCJ0ZXh0IikKICAgICAgICAgICAgICAuYXR0cigieCIsIHdpZHRoKQogICAgICAgICAgICAgIC5hdHRyKCJ5IiwgbWFyZ2luLmJvdHRvbSAtIDQpCiAgICAgICAgICAgICAgLmF0dHIoImZpbGwiLCAiY3VycmVudENvbG9yIikKICAgICAgICAgICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikKICAgICAgICAgICAgICAudGV4dChkYXRhLngpCiAgICAgICAgICApOwoKICAgICAgZnVuY3Rpb24gYXJjKHgxLCB5MSwgeDIsIHkyKSB7CiAgICAgICAgY29uc3QgciA9IE1hdGguaHlwb3QoeDEgLSB4MiwgeTEgLSB5MikgKiAyOwogICAgICAgIHJldHVybiBgTSR7eDF9LCR7eTF9IEEke3J9LCR7cn0gMCwwLDEgJHt4Mn0sJHt5Mn1gOwogICAgICB9CgogICAgICBjb25zdCB5QXhpcyA9IGcgPT4KICAgICAgICBnCiAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwwKWApCiAgICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KSkKICAgICAgICAgIC5jYWxsKGcgPT4gZy5zZWxlY3QoIi5kb21haW4iKS5yZW1vdmUoKSkKICAgICAgICAgIC5jYWxsKGcgPT4KICAgICAgICAgICAgZwogICAgICAgICAgICAgIC5hcHBlbmQoInRleHQiKQogICAgICAgICAgICAgIC5hdHRyKCJ4IiwgLW1hcmdpbi5sZWZ0KQogICAgICAgICAgICAgIC5hdHRyKCJ5IiwgMTApCiAgICAgICAgICAgICAgLmF0dHIoImZpbGwiLCAiY3VycmVudENvbG9yIikKICAgICAgICAgICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAic3RhcnQiKQogICAgICAgICAgICAgIC50ZXh0KGRhdGEueSkKICAgICAgICAgICk7CgogICAgICBzdmcuYXBwZW5kKCJnIikuY2FsbChncmlkKTsKCiAgICAgIHN2Zy5hcHBlbmQoImciKS5jYWxsKHhBeGlzKTsKCiAgICAgIHN2Zy5hcHBlbmQoImciKS5jYWxsKHlBeGlzKTsKCiAgICAgIC8vICAg566t5aS0CiAgICAgIGNvbnN0IGFycm93SWQgPSAiYXJyb3dJRCI7CiAgICAgIGNvbnN0IGdyYWRpZW50SWRzID0gZGF0YS5tYXAoKCkgPT4gewogICAgICAgIC8vICAgY29uc29sZS5sb2coRE9NLnVpZCgiZ3JhZGllbnQiKSk7CiAgICAgICAgLy8gICByZXR1cm4gRE9NLnVpZCgiZ3JhZGllbnQiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0pOwoKICAgICAgY29uc3QgZGVmcyA9IHN2Zy5hcHBlbmQoImRlZnMiKTsKCiAgICAgIC8vICAgY29uc3QgYXJyb3dNYXJrZXIgPQogICAgICAvLyBkZWZzLmFwcGVuZCgibWFya2VyIikKICAgICAgLy8gLmF0dHIoImlkIixhcnJvd0lkKQogICAgICAvLyAuYXR0cigibWFya2VyVW5pdHMiLCJzdHJva2VXaWR0aCIpCiAgICAgIC8vIC5hdHRyKCJtYXJrZXJXaWR0aCIsIjgiKQogICAgICAvLyAuYXR0cigibWFya2VySGVpZ2h0IiwiOCIpCiAgICAgIC8vIC5hdHRyKCJ2aWV3Qm94IiwiMCAwIDEyIDEyIikKICAgICAgLy8gLmF0dHIoInJlZlgiLCIxMyIpCiAgICAgIC8vIC5hdHRyKCJyZWZZIiwiNiIpCiAgICAgIC8vIC5hdHRyKCJvcmllbnQiLCJhdXRvIik7CgogICAgICAvLyBkZWZzCiAgICAgIC8vICAgLmFwcGVuZCgibWFya2VyIikKICAgICAgLy8gICAuYXR0cigiaWQiLCBhcnJvd0lkKQogICAgICAvLyAgIC8vIC5hdHRyKCJpZCIsYXJyb3dJZC5pZCkKICAgICAgLy8gICAuYXR0cigibWFya2VySGVpZ2h0IiwgMTApCiAgICAgIC8vICAgLmF0dHIoIm1hcmtlcldpZHRoIiwgMTApCiAgICAgIC8vICAgLmF0dHIoInJlZlgiLCA1KQogICAgICAvLyAgIC5hdHRyKCJyZWZZIiwgMi41KQogICAgICAvLyAgIC5hdHRyKCJvcmllbnQiLCAiYXV0byIpCgogICAgICAvLyAgIC8vIOeureWktOW9oueKtuWhq+WFhQogICAgICAvLyAgIC5hcHBlbmQoInBhdGgiKQogICAgICAvLyAgIC5hdHRyKCJmaWxsIiwgZW5kQ29sb3IpCiAgICAgIC8vICAgLmF0dHIoImQiLCAiTTAsMHY1bDcsLTIuNVoiKTsKCiAgICAgIC8vICAgdmFyIG1hcmtlcgoKICAgICAgc3ZnCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImZpbGwiLCAibm9uZSIpCiAgICAgICAgLnNlbGVjdEFsbCgicGF0aCIpCiAgICAgICAgLmRhdGEoZGF0YSkKICAgICAgICAuam9pbigicGF0aCIpCiAgICAgICAgLmF0dHIoInN0cm9rZSIsICJibGFjayIpCiAgICAgICAgLmF0dHIoIm1hcmtlci1lbmQiLCAidXJsKCNhcnJvd0lkKSIpCiAgICAgICAgLmF0dHIoImQiLCBkID0+IHsKICAgICAgICAgIC8vICAgY29uc29sZS5sb2coKTsKICAgICAgICAgIHJldHVybiBhcmMoCiAgICAgICAgICAgIHgoZC5QT1BfMTk4MCksCiAgICAgICAgICAgIHkoZC5SOTBfMTBfMTk4MCksCiAgICAgICAgICAgIC8vIOe7iOeCueWdkOaghwogICAgICAgICAgICB4KGQuUE9QXzIwMTUpLAogICAgICAgICAgICB5KGQuUjkwXzEwXzIwMTUpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAvLyDotbflp4vljp/ngrkKICAgICAgc3ZnCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImZpbGwiLCAiY3VycmVudENvbG9yIikKICAgICAgICAuc2VsZWN0QWxsKCJjaXJjbGUiKQogICAgICAgIC5kYXRhKGRhdGEpCiAgICAgICAgLmpvaW4oImNpcmNsZSIpCiAgICAgICAgLmF0dHIoInIiLCAxLjc1KQogICAgICAgIC5hdHRyKCJjeCIsIGQgPT4geChkLlBPUF8xOTgwKSkKICAgICAgICAuYXR0cigiY3kiLCBkID0+IHkoZC5SOTBfMTBfMTk4MCkpOwoKICAgICAgc3ZnCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImZpbGwiLCAiY3VycmVudENvbG9yIikKICAgICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAibWlkZGxlIikKICAgICAgICAuYXR0cigiZm9udC1mYW1pbHkiLCAic2Fucy1zZXJpZiIpCiAgICAgICAgLmF0dHIoImZvbnQtc2l6ZSIsIDEwKQogICAgICAgIC5hdHRyKCJzdHJva2UtbGluZWpvaW4iLCAicm91bmQiKQogICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCA0KQogICAgICAgIC5zZWxlY3RBbGwoInRleHQiKQogICAgICAgIC5kYXRhKGRhdGEuZmlsdGVyKGQgPT4gZC5oaWdobGlnaHQpKQogICAgICAgIC5qb2luKCJ0ZXh0IikKICAgICAgICAuYXR0cigiZHkiLCBkID0+IChkLlI5MF8xMF8xOTgwID4gZC5SOTBfMTBfMjAxNSA/ICIxLjJlbSIgOiAiLTAuNWVtIikpCiAgICAgICAgLmF0dHIoIngiLCBkID0+IHgoZC5QT1BfMjAxNSkpCiAgICAgICAgLmF0dHIoInkiLCBkID0+IHkoZC5SOTBfMTBfMjAxNSkpCiAgICAgICAgLnRleHQoZCA9PiBkLm55dF9kaXNwbGF5KQogICAgICAgIC5jYWxsKHRleHQgPT4gdGV4dC5jbG9uZSh0cnVlKSkKICAgICAgICAuYXR0cigiZmlsbCIsICJub25lIikKICAgICAgICAuYXR0cigic3Ryb2tlIiwgIndoaXRlIik7CgogICAgICAvLyAgIHN2ZwogICAgICAvLyAgICAgLmFwcGVuZCgiZGVmcyIpCiAgICAgIGRlZnMKICAgICAgICAuc2VsZWN0QWxsKCJsaW5lYXJHcmFkaWVudCIpCiAgICAgICAgLmRhdGEoZGF0YSkKICAgICAgICAuam9pbigibGluZWFyR3JhZGllbnQiKQogICAgICAgIC5hdHRyKCJpZCIsIChkLCBpKSA9PiBncmFkaWVudElkc1tpXS5pZCkKICAgICAgICAvLyAuYXR0cigiaWQiLCJncmFkaWVudHMiKQogICAgICAgIC5hdHRyKCJncmFkaWVudFVuaXRzIiwgInVzZXJTcGFjZU9uVXNlIikKICAgICAgICAuYXR0cigieDEiLCBkID0+IHgoZC5QT1BfMTk4MCkpCiAgICAgICAgLmF0dHIoIngyIiwgZCA9PiB4KGQuUE9QXzIwMTUpKQogICAgICAgIC5hdHRyKCJ5MSIsIGQgPT4geShkLlI5MF8xMF8xOTgwKSkKICAgICAgICAuYXR0cigieTIiLCBkID0+IHkoZC5SOTBfMTBfMjAxNSkpCiAgICAgICAgLmNhbGwoZyA9PgogICAgICAgICAgZwogICAgICAgICAgICAuYXBwZW5kKCJzdG9wIikKICAgICAgICAgICAgLmF0dHIoInN0b3AtY29sb3IiLCBzdGFydENvbG9yKQogICAgICAgICAgICAuYXR0cigic3RvcC1vcGFjaXR5IiwgMC41KQogICAgICAgICkKICAgICAgICAuY2FsbChnID0+CiAgICAgICAgICBnCiAgICAgICAgICAgIC5hcHBlbmQoInN0b3AiKQogICAgICAgICAgICAuYXR0cigib2Zmc2V0IiwgIjEwMCUiKQogICAgICAgICAgICAuYXR0cigic3RvcC1jb2xvciIsIGVuZENvbG9yKQogICAgICAgICk7CgogICAgICByZXR1cm4gc3ZnLm5vZGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoKCk7CiAgICBjb25zb2xlLmxvZyh0aGlzLnN2Z1ZpZXdCb3gpOy8vY2FuIG5vdCBmZXRjaAogICAgLy8gZDMuanNvbignLi4vYXNzZXRzL2RhdGEvY2l0eS5qc29uJykudGhlbihkPT4KICAgIC8vIGNvbnNvbGUubG9nKGQpCiAgICAvLyApCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zdmdXaWR0aCA9IHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZnNldFdpZHRoICogMC45OwogICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnN2Z1dpZHRoKTsKICAgIC8vIHRoaXMuY2hhcnQoKTsKCiAgICB0aGlzLkFkZFJlc2l6ZUxpc3RlbmVyKCkKICAgIC8vIHRoaXMuY2hhcnQoKTsKICB9LAogIHVwZGF0ZWQoKSB7CiAgICAvLyB0aGlzLnN2Z1dpZHRoID0gdGhpcy4kcmVmcy5jb250YWluZXIub2Zmc2V0V2lkdGggKiAwLjk7CiAgICAvLyB0aGlzLmNoYXJ0KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgc3ZnVmlld0JveCgpIHsKICAgICAgLy8gICBjb25zdCB7IHdpZHRoLCBoZWloZ3QgfSA9IHRoaXMuc3ZnQm94OwogICAgICBjb25zdCB3ID0gdGhpcy4kcmVmcy5zdmcub2Zmc2V0V2lkdGggKiAwLjk7CiAgICAgIGNvbnN0IGggPSB3IC8gMS42MTgwMzM5ODg3NTsKICAgICAgY29uc3Qgc3ZnQm94ID0gewogICAgICAgICd3aWR0aCc6IHcsCiAgICAgICAgJ2hlaWdodCc6IGgKICAgICAgfTsKICAgICAgLy8gICByZXR1cm4gWzAsIDAsIHcsIGhdOwogICAgICByZXR1cm4gc3ZnQm94OwogICAgfSwKICAgIHhTY2FsZSgpIHsKICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnhWYWx1ZSk7CiAgICAgIHJldHVybiBkMwogICAgICAgIC5zY2FsZUJhbmQoKQogICAgICAgIC5kb21haW4oWy4uLm5ldyBTZXQodGhpcy5lZGdlcy5tYXAoZCA9PiBkLmRhdGEudGltZSkpXSkKICAgICAgICAucmFuZ2UoWzAsIHRoaXMuc3ZnV2lkdGggLSAyICogdGhpcy5tYXJnaW4ubGVmdF0pOwogICAgICAvLyAubmljZSgpOwogICAgfSwKICAgIC8vIOmAmui/h+e6v+aAp+avlOS+i+WwuuiHquWKqOeUn+aIkAogICAgeVNjYWxlKCkgewogICAgICByZXR1cm4gZDMKICAgICAgICAuc2NhbGVCYW5kKCkKICAgICAgICAuZG9tYWluKAogICAgICAgICAgdGhpcy5ub2Rlcy5tYXAoZCA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQpOwogICAgICAgICAgICByZXR1cm4gZC5kYXRhLmlkOwogICAgICAgICAgfSkKICAgICAgICApCiAgICAgICAgLnJhbmdlKFswLCB0aGlzLnN2Z0hlaWdodCAtIHRoaXMubWFyZ2luLmJvdHRvbV0pOwogICAgICAvLyAucGFkZGluZygwKTvml6DmlYgKICAgIH0sCiAgICAvLyBzdmdXaWR0aCgpe3JldHVybiB0aGlzLiRyZWZzLnN2Zy5vZmZzZXRXaWR0aCowLjl9LAogICAgc3ZnSGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5zdmdXaWR0aCAvIDEuNjE4MDMzOTg4NzU7IC8vIOm7hOmHkeavlOS+iwogICAgfQogIH0KfTsKLyplc2xpbnQtZW5hYmxlICovCg=="},{"version":3,"sources":["Citys.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Citys.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div ref=\"container\" class=\"svg-container\" align=\"center\">\n    <svg ref=\"svg\" id=\"svg\" :width=\"svgWidth\" :height=\"svgHeight\"\n    v-if=\"redrawToggle === true\">\n      <defs>\n        <marker\n          id=\"arrowId\"\n          viewBox=\"0 0 10 10\"\n          refX=\"1\"\n          refY=\"5\"\n          markerWidth=\"6\"\n          markerHeight=\"6\"\n          orient=\"auto\"\n        >\n          <path d=\"M 0 0 L 10 5 L 0 10 z\" />\n        </marker>\n      </defs>\n    </svg>\n  </div>\n</template>\n<script>\n/*eslint-disable */\nimport * as d3 from \"d3\";\n\nexport default {\n  data: () => ({\n    res: {},\n    svgWidth: 0,\n    redrawToggle: true,\n\n    //   width:\n  }),\n  methods: {\n    async fetch() {\n      this.res = require(\"../assets/data/city.json\");\n    },\n    // 即响应式绘制\n    AddResizeListener() {\n      window.addEventListener(\"resize\", () => {\n        this.$data.redrawToggle = false;\n        setTimeout(() => {\n          this.$data.redrawToggle = true;\n          this.$data.svgWidth = this.$refs.container.offsetWidth * 0.8;\n          // 重新绘制\n          this.chart();\n        }, 0);\n      });\n      //   console.log([...new Set(this.edges.map(d => d.data.time))].length);\n    },\n    chart() {\n      // 无效\n      // this.svgWidth = this.$refs.container.offsetWidth *0.9\n      const data = this.res;\n      const width = this.svgWidth;\n      const height = this.svgHeight;\n      const margin = { top: 24, right: 10, bottom: 34, left: 40 };\n      const svg = d3.select(\"#svg\");\n      svg.attr(\"viewBox\", [0, 0, this.svgWidth, this.svgHeight]);\n      // svg.attr(\"viewBox\",[0,0,800,500])\n\n      const x = d3\n        .scaleLog()\n        .domain(\n          padLog(d3.extent(data.flatMap(d => [d.POP_1980, d.POP_2015])), 0.1)\n        )\n        .rangeRound([margin.left, width - margin.right]);\n      const y = d3\n        .scaleLinear()\n        .domain(\n          padLinear(\n            d3.extent(data.flatMap(d => [d.R90_10_1980, d.R90_10_2015])),\n            0.1\n          )\n        )\n        .rangeRound([height - margin.bottom, margin.top]);\n\n      function padLinear([x0, x1], k) {\n        const dx = ((x1 - x0) * k) / 2;\n        return [x0 - dx, x1 + dx];\n      }\n      function padLog(x, k) {\n        return padLinear(x.map(Math.log), k).map(Math.exp);\n      }\n\n      const endColor = d3.schemeCategory10[3];\n\n      const startColor = d3.schemeCategory10[1];\n\n      const grid = g =>\n        g\n          .attr(\"stroke\", \"currentColor\")\n          .attr(\"stroke-opacity\", 0.1)\n          .call(g =>\n            g\n              .append(\"g\")\n              .selectAll(\"line\")\n              .data(x.ticks())\n              .join(\"line\")\n              .attr(\"x1\", d => 0.5 + x(d))\n              .attr(\"x2\", d => 0.5 + x(d))\n              .attr(\"y1\", margin.top)\n              .attr(\"y2\", height - margin.bottom)\n          )\n          .call(g =>\n            g\n              .append(\"g\")\n              .selectAll(\"line\")\n              .data(y.ticks())\n              .join(\"line\")\n              .attr(\"y1\", d => 0.5 + y(d))\n              .attr(\"y2\", d => 0.5 + y(d))\n              .attr(\"x1\", margin.left)\n              .attr(\"x2\", width - margin.right)\n          );\n\n      const xAxis = g =>\n        g\n          .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n          .call(d3.axisBottom(x).ticks(width / 80, \".1s\"))\n          .call(g => g.select(\".domain\").remove())\n          .call(g =>\n            g\n              .append(\"text\")\n              .attr(\"x\", width)\n              .attr(\"y\", margin.bottom - 4)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"end\")\n              .text(data.x)\n          );\n\n      function arc(x1, y1, x2, y2) {\n        const r = Math.hypot(x1 - x2, y1 - y2) * 2;\n        return `M${x1},${y1} A${r},${r} 0,0,1 ${x2},${y2}`;\n      }\n\n      const yAxis = g =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .call(d3.axisLeft(y))\n          .call(g => g.select(\".domain\").remove())\n          .call(g =>\n            g\n              .append(\"text\")\n              .attr(\"x\", -margin.left)\n              .attr(\"y\", 10)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"start\")\n              .text(data.y)\n          );\n\n      svg.append(\"g\").call(grid);\n\n      svg.append(\"g\").call(xAxis);\n\n      svg.append(\"g\").call(yAxis);\n\n      //   箭头\n      const arrowId = \"arrowID\";\n      const gradientIds = data.map(() => {\n        //   console.log(DOM.uid(\"gradient\"));\n        //   return DOM.uid(\"gradient\");\n        return;\n      });\n\n      const defs = svg.append(\"defs\");\n\n      //   const arrowMarker =\n      // defs.append(\"marker\")\n      // .attr(\"id\",arrowId)\n      // .attr(\"markerUnits\",\"strokeWidth\")\n      // .attr(\"markerWidth\",\"8\")\n      // .attr(\"markerHeight\",\"8\")\n      // .attr(\"viewBox\",\"0 0 12 12\")\n      // .attr(\"refX\",\"13\")\n      // .attr(\"refY\",\"6\")\n      // .attr(\"orient\",\"auto\");\n\n      // defs\n      //   .append(\"marker\")\n      //   .attr(\"id\", arrowId)\n      //   // .attr(\"id\",arrowId.id)\n      //   .attr(\"markerHeight\", 10)\n      //   .attr(\"markerWidth\", 10)\n      //   .attr(\"refX\", 5)\n      //   .attr(\"refY\", 2.5)\n      //   .attr(\"orient\", \"auto\")\n\n      //   // 箭头形状填充\n      //   .append(\"path\")\n      //   .attr(\"fill\", endColor)\n      //   .attr(\"d\", \"M0,0v5l7,-2.5Z\");\n\n      //   var marker\n\n      svg\n        .append(\"g\")\n        .attr(\"fill\", \"none\")\n        .selectAll(\"path\")\n        .data(data)\n        .join(\"path\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"marker-end\", \"url(#arrowId)\")\n        .attr(\"d\", d => {\n          //   console.log();\n          return arc(\n            x(d.POP_1980),\n            y(d.R90_10_1980),\n            // 终点坐标\n            x(d.POP_2015),\n            y(d.R90_10_2015)\n          );\n        });\n      // 起始原点\n      svg\n        .append(\"g\")\n        .attr(\"fill\", \"currentColor\")\n        .selectAll(\"circle\")\n        .data(data)\n        .join(\"circle\")\n        .attr(\"r\", 1.75)\n        .attr(\"cx\", d => x(d.POP_1980))\n        .attr(\"cy\", d => y(d.R90_10_1980));\n\n      svg\n        .append(\"g\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", 10)\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-width\", 4)\n        .selectAll(\"text\")\n        .data(data.filter(d => d.highlight))\n        .join(\"text\")\n        .attr(\"dy\", d => (d.R90_10_1980 > d.R90_10_2015 ? \"1.2em\" : \"-0.5em\"))\n        .attr(\"x\", d => x(d.POP_2015))\n        .attr(\"y\", d => y(d.R90_10_2015))\n        .text(d => d.nyt_display)\n        .call(text => text.clone(true))\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"white\");\n\n      //   svg\n      //     .append(\"defs\")\n      defs\n        .selectAll(\"linearGradient\")\n        .data(data)\n        .join(\"linearGradient\")\n        .attr(\"id\", (d, i) => gradientIds[i].id)\n        // .attr(\"id\",\"gradients\")\n        .attr(\"gradientUnits\", \"userSpaceOnUse\")\n        .attr(\"x1\", d => x(d.POP_1980))\n        .attr(\"x2\", d => x(d.POP_2015))\n        .attr(\"y1\", d => y(d.R90_10_1980))\n        .attr(\"y2\", d => y(d.R90_10_2015))\n        .call(g =>\n          g\n            .append(\"stop\")\n            .attr(\"stop-color\", startColor)\n            .attr(\"stop-opacity\", 0.5)\n        )\n        .call(g =>\n          g\n            .append(\"stop\")\n            .attr(\"offset\", \"100%\")\n            .attr(\"stop-color\", endColor)\n        );\n\n      return svg.node();\n    }\n  },\n  created() {\n    this.fetch();\n    console.log(this.svgViewBox);//can not fetch\n    // d3.json('../assets/data/city.json').then(d=>\n    // console.log(d)\n    // )\n  },\n  mounted() {\n    this.svgWidth = this.$refs.container.offsetWidth * 0.9;\n    //   console.log(this.svgWidth);\n    // this.chart();\n\n    this.AddResizeListener()\n    // this.chart();\n  },\n  updated() {\n    // this.svgWidth = this.$refs.container.offsetWidth * 0.9;\n    // this.chart();\n  },\n  computed: {\n    svgViewBox() {\n      //   const { width, heihgt } = this.svgBox;\n      const w = this.$refs.svg.offsetWidth * 0.9;\n      const h = w / 1.61803398875;\n      const svgBox = {\n        'width': w,\n        'height': h\n      };\n      //   return [0, 0, w, h];\n      return svgBox;\n    },\n    xScale() {\n      //   console.log(this.xValue);\n      return d3\n        .scaleBand()\n        .domain([...new Set(this.edges.map(d => d.data.time))])\n        .range([0, this.svgWidth - 2 * this.margin.left]);\n      // .nice();\n    },\n    // 通过线性比例尺自动生成\n    yScale() {\n      return d3\n        .scaleBand()\n        .domain(\n          this.nodes.map(d => {\n            // console.log(d);\n            return d.data.id;\n          })\n        )\n        .range([0, this.svgHeight - this.margin.bottom]);\n      // .padding(0);无效\n    },\n    // svgWidth(){return this.$refs.svg.offsetWidth*0.9},\n    svgHeight() {\n      return this.svgWidth / 1.61803398875; // 黄金比例\n    }\n  }\n};\n/*eslint-enable */\n</script>"]}]}